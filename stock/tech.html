<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>压力与支撑</title>
</head>
<body>
    <!-- 图表容器 DOM -->
    <div id="container" style="width: 100%;height:100%;"></div>
    <!-- 引入 highcharts.js -->
    <!-- <script src="http://cdn.hcharts.cn/highcharts/highcharts.js"></script> -->
    <script src="../highstock.js"></script>
    <script>
        var greenColor = '#46A32D', redColor = '#DE4B39';

        var candlestickData = [{"x":1542038400000,"open":23.48,"high":24.03,"low":23.44,"close":23.94,"lineColor":"#DE4B39","color":"#E04940"},{"x":1542124800000,"open":24.18,"high":24.49,"low":23.96,"close":24.15,"lineColor":"#46A32D","color":"#34BA95"},{"x":1542211200000,"open":24.05,"high":24.4,"low":23.96,"close":24.38,"lineColor":"#DE4B39","color":"#E04940"},{"x":1542297600000,"open":24.29,"high":25.1,"low":24.02,"close":24.78,"lineColor":"#DE4B39","color":"#E04940"},{"x":1542556800000,"open":24.7,"high":25.97,"low":24.68,"close":25.97,"lineColor":"#DE4B39","color":"#E04940"},{"x":1542643200000,"open":25.78,"high":26.43,"low":25.23,"close":25.65,"lineColor":"#46A32D","color":"#34BA95"},{"x":1542729600000,"open":25.38,"high":26.68,"low":25.35,"close":26.03,"lineColor":"#DE4B39","color":"#E04940"},{"x":1542816000000,"open":25.99,"high":25.99,"low":25.28,"close":25.63,"lineColor":"#46A32D","color":"#34BA95"},{"x":1542902400000,"open":25.65,"high":25.65,"low":24.68,"close":24.9,"lineColor":"#46A32D","color":"#34BA95"},{"x":1543161600000,"open":25.03,"high":25.47,"low":24.74,"close":25.19,"lineColor":"#DE4B39","color":"#E04940"},{"x":1543248000000,"open":25.2,"high":25.29,"low":24.78,"close":24.95,"lineColor":"#46A32D","color":"#34BA95"},{"x":1543334400000,"open":25,"high":25.88,"low":24.99,"close":25.88,"lineColor":"#DE4B39","color":"#E04940"},{"x":1543420800000,"open":25.95,"high":26.48,"low":25,"close":25.29,"lineColor":"#46A32D","color":"#34BA95"},{"x":1543507200000,"open":25.27,"high":25.53,"low":25.03,"close":25.44,"lineColor":"#DE4B39","color":"#E04940"},{"x":1543766400000,"open":26,"high":26.06,"low":24.81,"close":25.73,"lineColor":"#46A32D","color":"#34BA95"},{"x":1543852800000,"open":25.56,"high":25.56,"low":24.86,"close":25.13,"lineColor":"#46A32D","color":"#34BA95"},{"x":1543939200000,"open":24.81,"high":25.69,"low":24.76,"close":25.3,"lineColor":"#DE4B39","color":"#E04940"},{"x":1544025600000,"open":24.91,"high":25.47,"low":24.9,"close":25.1,"lineColor":"#DE4B39","color":"#E04940"},{"x":1544112000000,"open":25.12,"high":25.85,"low":25.12,"close":25.34,"lineColor":"#DE4B39","color":"#E04940"},{"x":1544371200000,"open":25.12,"high":25.59,"low":24.9,"close":25,"lineColor":"#46A32D","color":"#34BA95"},{"x":1544457600000,"open":24.95,"high":25.98,"low":24.91,"close":25.97,"lineColor":"#DE4B39","color":"#E04940"},{"x":1544544000000,"open":26.31,"high":26.8,"low":26.14,"close":26.35,"lineColor":"#DE4B39","color":"#E04940"},{"x":1544630400000,"open":26.69,"high":27.47,"low":26.4,"close":27.1,"lineColor":"#DE4B39","color":"#E04940"},{"x":1544716800000,"open":26.78,"high":27.11,"low":26.31,"close":26.46,"lineColor":"#46A32D","color":"#34BA95"},{"x":1544976000000,"open":26.51,"high":26.75,"low":25.94,"close":26.52,"lineColor":"#DE4B39","color":"#E04940"},{"x":1545062400000,"open":26.23,"high":26.39,"low":25.34,"close":25.5,"lineColor":"#46A32D","color":"#34BA95"},{"x":1545148800000,"open":25.71,"high":26.09,"low":25.15,"close":25.38,"lineColor":"#46A32D","color":"#34BA95"},{"x":1545235200000,"open":25.45,"high":25.8,"low":24.91,"close":25.3,"lineColor":"#46A32D","color":"#34BA95"},{"x":1545321600000,"open":25.17,"high":25.18,"low":23.7,"close":24.25,"lineColor":"#46A32D","color":"#34BA95"},{"x":1545580800000,"open":23.92,"high":24.08,"low":23.33,"close":23.88,"lineColor":"#46A32D","color":"#34BA95"},{"x":1545667200000,"open":23.42,"high":24.22,"low":23.38,"close":23.97,"lineColor":"#DE4B39","color":"#E04940"},{"x":1545753600000,"open":23.84,"high":23.98,"low":23.58,"close":23.8,"lineColor":"#46A32D","color":"#34BA95"},{"x":1545840000000,"open":24.25,"high":24.56,"low":23.44,"close":23.44,"lineColor":"#46A32D","color":"#34BA95"},{"x":1545926400000,"open":23.67,"high":24.24,"low":23.67,"close":23.82,"lineColor":"#DE4B39","color":"#E04940"},{"x":1546358400000,"open":23.83,"high":24.09,"low":23.67,"close":23.9,"lineColor":"#DE4B39","color":"#E04940"},{"x":1546444800000,"open":23.79,"high":24.5,"low":23.71,"close":24.07,"lineColor":"#DE4B39","color":"#E04940"},{"x":1546531200000,"open":23.91,"high":25,"low":23.85,"close":24.93,"lineColor":"#DE4B39","color":"#E04940"},{"x":1546790400000,"open":25.29,"high":25.53,"low":24.99,"close":25.05,"lineColor":"#46A32D","color":"#34BA95"},{"x":1546876800000,"open":25.05,"high":25.2,"low":24.63,"close":25,"lineColor":"#46A32D","color":"#34BA95"},{"x":1546963200000,"open":25.4,"high":25.88,"low":25.11,"close":25.33,"lineColor":"#46A32D","color":"#34BA95"},{"x":1547049600000,"open":25.22,"high":25.56,"low":25.03,"close":25.11,"lineColor":"#46A32D","color":"#34BA95"},{"x":1547136000000,"open":25.1,"high":25.54,"low":25.01,"close":25.3,"lineColor":"#DE4B39","color":"#E04940"},{"x":1547395200000,"open":25.13,"high":25.3,"low":24.92,"close":25.02,"lineColor":"#46A32D","color":"#34BA95"},{"x":1547481600000,"open":25,"high":25.16,"low":24.32,"close":25.16,"lineColor":"#DE4B39","color":"#E04940"},{"x":1547568000000,"open":25.15,"high":25.5,"low":24.83,"close":25.42,"lineColor":"#DE4B39","color":"#E04940"},{"x":1547654400000,"open":25.5,"high":25.5,"low":24.94,"close":24.97,"lineColor":"#46A32D","color":"#34BA95"},{"x":1547740800000,"open":25,"high":25.76,"low":24.99,"close":25.76,"lineColor":"#DE4B39","color":"#E04940"},{"x":1548000000000,"open":25.71,"high":25.95,"low":25.4,"close":25.65,"lineColor":"#46A32D","color":"#34BA95"},{"x":1548086400000,"open":25.5,"high":26.17,"low":25.23,"close":25.4,"lineColor":"#46A32D","color":"#34BA95"},{"x":1548172800000,"open":25.35,"high":25.49,"low":25.2,"close":25.31,"lineColor":"#46A32D","color":"#34BA95"},{"x":1548259200000,"open":25.42,"high":25.54,"low":24.93,"close":25.41,"lineColor":"#46A32D","color":"#34BA95"},{"x":1548345600000,"open":25.51,"high":26.35,"low":25.49,"close":26.1,"lineColor":"#DE4B39","color":"#E04940"},{"x":1548604800000,"open":26.2,"high":26.62,"low":25.86,"close":26.06,"lineColor":"#46A32D","color":"#34BA95"},{"x":1548691200000,"open":25.91,"high":26.88,"low":25.87,"close":26.88,"lineColor":"#DE4B39","color":"#E04940"},{"x":1548777600000,"open":26.7,"high":27.82,"low":26.63,"close":27.21,"lineColor":"#DE4B39","color":"#E04940"},{"x":1548864000000,"open":27.39,"high":28.15,"low":27,"close":27.75,"lineColor":"#DE4B39","color":"#E04940"},{"x":1548950400000,"open":28.15,"high":28.22,"low":26.98,"close":27.68,"lineColor":"#46A32D","color":"#34BA95"},{"x":1549814400000,"open":27.27,"high":27.69,"low":26.89,"close":27.67,"lineColor":"#DE4B39","color":"#E04940"},{"x":1549900800000,"open":27.45,"high":27.58,"low":26.85,"close":27.4,"lineColor":"#46A32D","color":"#34BA95"}];
        var supportPriceBollData = [{"x":1542038400000,"y":21.069},{"x":1542124800000,"y":21.398},{"x":1542211200000,"y":22.019},{"x":1542297600000,"y":22.405},{"x":1542556800000,"y":22.327},{"x":1542643200000,"y":22.554},{"x":1542729600000,"y":22.674},{"x":1542816000000,"y":22.719},{"x":1542902400000,"y":22.78},{"x":1543161600000,"y":23.05},{"x":1543248000000,"y":23.158},{"x":1543334400000,"y":23.152},{"x":1543420800000,"y":23.181},{"x":1543507200000,"y":23.194},{"x":1543766400000,"y":23.265},{"x":1543852800000,"y":23.347},{"x":1543939200000,"y":23.49},{"x":1544025600000,"y":23.617},{"x":1544112000000,"y":23.879},{"x":1544371200000,"y":24.071},{"x":1544457600000,"y":24.281},{"x":1544544000000,"y":24.433},{"x":1544630400000,"y":24.427},{"x":1544716800000,"y":24.499},{"x":1544976000000,"y":24.468},{"x":1545062400000,"y":24.459},{"x":1545148800000,"y":24.435},{"x":1545235200000,"y":24.411},{"x":1545321600000,"y":24.273},{"x":1545580800000,"y":24.019},{"x":1545667200000,"y":23.842},{"x":1545753600000,"y":23.6},{"x":1545840000000,"y":23.32},{"x":1545926400000,"y":23.145},{"x":1546358400000,"y":22.998},{"x":1546444800000,"y":22.9},{"x":1546531200000,"y":22.885},{"x":1546790400000,"y":22.883},{"x":1546876800000,"y":22.872},{"x":1546963200000,"y":22.883},{"x":1547049600000,"y":22.886},{"x":1547136000000,"y":22.926},{"x":1547395200000,"y":23.094},{"x":1547481600000,"y":23.196},{"x":1547568000000,"y":23.333},{"x":1547654400000,"y":23.352},{"x":1547740800000,"y":23.319},{"x":1548000000000,"y":23.296},{"x":1548086400000,"y":23.336},{"x":1548172800000,"y":23.447},{"x":1548259200000,"y":23.554},{"x":1548345600000,"y":23.669},{"x":1548604800000,"y":23.933},{"x":1548691200000,"y":24.02},{"x":1548777600000,"y":24.094},{"x":1548864000000,"y":24.095},{"x":1548950400000,"y":24.034},{"x":1549814400000,"y":24.016},{"x":1549900800000,"y":24.079}];

        var resistPriceBollData = [{"x":1542038400000,"y":25.467},{"x":1542124800000,"y":25.431},{"x":1542211200000,"y":25.189},{"x":1542297600000,"y":25.125},{"x":1542556800000,"y":25.518},{"x":1542643200000,"y":25.642},{"x":1542729600000,"y":25.867},{"x":1542816000000,"y":26.036},{"x":1542902400000,"y":26.084},{"x":1543161600000,"y":26.053},{"x":1543248000000,"y":26.071},{"x":1543334400000,"y":26.242},{"x":1543420800000,"y":26.3},{"x":1543507200000,"y":26.369},{"x":1543766400000,"y":26.467},{"x":1543852800000,"y":26.484},{"x":1543939200000,"y":26.486},{"x":1544025600000,"y":26.47},{"x":1544112000000,"y":26.387},{"x":1544371200000,"y":26.307},{"x":1544457600000,"y":26.3},{"x":1544544000000,"y":26.368},{"x":1544630400000,"y":26.646},{"x":1544716800000,"y":26.742},{"x":1544976000000,"y":26.828},{"x":1545062400000,"y":26.822},{"x":1545148800000,"y":26.781},{"x":1545235200000,"y":26.772},{"x":1545321600000,"y":26.845},{"x":1545580800000,"y":26.968},{"x":1545667200000,"y":27.047},{"x":1545753600000,"y":27.081},{"x":1545840000000,"y":27.176},{"x":1545926400000,"y":27.189},{"x":1546358400000,"y":27.153},{"x":1546444800000,"y":27.145},{"x":1546531200000,"y":27.123},{"x":1546790400000,"y":27.12},{"x":1546876800000,"y":27.097},{"x":1546963200000,"y":27.119},{"x":1547049600000,"y":27.03},{"x":1547136000000,"y":26.885},{"x":1547395200000,"y":26.509},{"x":1547481600000,"y":26.277},{"x":1547568000000,"y":26.03},{"x":1547654400000,"y":25.958},{"x":1547740800000,"y":26.029},{"x":1548000000000,"y":26.087},{"x":1548086400000,"y":26.162},{"x":1548172800000,"y":26.194},{"x":1548259200000,"y":26.231},{"x":1548345600000,"y":26.346},{"x":1548604800000,"y":26.344},{"x":1548691200000,"y":26.563},{"x":1548777600000,"y":26.82},{"x":1548864000000,"y":27.187},{"x":1548950400000,"y":27.523},{"x":1549814400000,"y":27.803},{"x":1549900800000,"y":27.98}];

        var categories=["2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-22","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-05","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-25","2018-12-26","2018-12-27","2018-12-28","2019-01-02","2019-01-03","2019-01-04","2019-01-07","2019-01-08","2019-01-09","2019-01-10","2019-01-11","2019-01-14","2019-01-15","2019-01-16","2019-01-17","2019-01-18","2019-01-21","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-11","2019-02-12"];

        Highcharts.stockChart('container', {
          chart: {
            backgroundColor: 'transparent',
            resetZoomButton: {
              theme: {
                display: 'none',
              },
            },
          },
          credits: {
            // 去水印
            enabled: false,
          },
          rangeSelector: {
            enabled: false,
          },
          navigator: {
            enabled: false,
          },
          scrollbar: {
            enabled: false,
          },
          xAxis: {
            categories,
            visible: false,
            tickLength: 0,
            // type: 'datetime',
            // labels: {
            //   enabled: false,
            // },
          },
          yAxis: {
            gridLineWidth: 0,
            labels: {
              enabled: false,
            },
          },
          legend: {
            enabled: false,
          },
          title: {
            text: '',
          },
          tooltip: {
            formatter() {
              let s = Highcharts.dateFormat('%Y年%m月%d日', this.x);
              s = `${s} <br/>
               K线图 <br/>
               开盘价:  ${this.points[0].point.open} <br/>
               最高价:  ${this.points[0].point.high} <br/>
               最低价:  ${this.points[0].point.low} <br/>
               收盘价:  ${this.points[0].point.close} <br/>
               <span style="color: #51A2EC;">压力位</span>:  ${this.points[2].y} <br/>
               <span style="color: #E867F2;">支撑位</span>:  ${this.points[1].y} <br/>
               `;
              return s;
            },
          },
          plotOptions: {
            // candlestick: {
            //   color: '#34BA95',
            //   upColor: '#E04940',
            //   lineColor: '#34BA95',
            //   upLineColor: '#E04940',
            // },
            candlestick: {
              color: greenColor,
              upColor: redColor,
              lineColor: greenColor,
              upLineColor: redColor,
            },
          },
          series: [
            {
              type: 'candlestick',
              data: candlestickData,
              name: 'K线图',
              // tooltip: {
              //   xDateFormat: '%Y年%m月%d日',
              // },
            },
            {
              type: 'line',
              color: redColor,
              data: supportPriceBollData,
              lineWidth: 1,
              name: '支撑位',
            },
            {
              type: 'line',
              color: greenColor,
              data: resistPriceBollData,
              lineWidth: 1,
              name: '压力位',
            },
          ],
        });
    </script>
</body>
</html>